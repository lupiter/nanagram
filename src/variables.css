/* Base sizing unit - all sizes derived from this */
:root {
  --base-size: 0.25rem; /* 4px at default 16px font size */
  --border-width: 1px;

  /* Spacing scale (multiples of base-size) */
  --space-0: 0;
  --space-1: calc(var(--base-size) * 1);  /* 4px */
  --space-2: calc(var(--base-size) * 2);  /* 8px */
  --space-3: calc(var(--base-size) * 3);  /* 12px */
  --space-4: calc(var(--base-size) * 4);  /* 16px */
  --space-5: calc(var(--base-size) * 5);  /* 20px */
  --space-6: calc(var(--base-size) * 6);  /* 24px */
  --space-8: calc(var(--base-size) * 8);  /* 32px */
  --space-10: calc(var(--base-size) * 10); /* 40px */
  --space-12: calc(var(--base-size) * 12); /* 48px */

  /* Font sizes */
  --text-xs: calc(var(--base-size) * 2.5);   /* 10px */
  --text-sm: calc(var(--base-size) * 3.5);   /* 14px */
  --text-base: calc(var(--base-size) * 4);   /* 16px */
  --text-lg: calc(var(--base-size) * 4.5);   /* 18px */
  --text-xl: calc(var(--base-size) * 5);     /* 20px */
  --text-2xl: calc(var(--base-size) * 7);    /* 28px */
  --text-3xl: calc(var(--base-size) * 8);    /* 32px */
  --text-4xl: calc(var(--base-size) * 12.8); /* 51.2px ~3.2em */

  /* Border radius */
  --radius-sm: calc(var(--base-size) * 1);  /* 4px */
  --radius-md: calc(var(--base-size) * 1.5); /* 6px */
  --radius-lg: calc(var(--base-size) * 2);  /* 8px */

  /* Fixed sizes (component-specific) */
  --size-cell: calc(var(--base-size) * 5);      /* 30px - grid cell */
  --size-card-min: calc(var(--base-size) * 30);   /* 120px - card min-width */
  --size-hint-area: calc(var(--base-size) * 25);  /* 100px - hint min-width */
  --size-input-min: calc(var(--base-size) * 45);  /* 180px - input min-width */
  --size-nav-title: calc(var(--base-size) * 50);  /* 200px - nav title width */
  --size-category-min: calc(var(--base-size) * 75); /* 300px - category card min */
  --size-dialog: calc(var(--base-size) * 100);    /* 400px - dialog width */
  --size-touch-target: calc(var(--base-size) * 11); /* 44px - min touch target */
  --size-badge: calc(var(--base-size) * 4);       /* 16px - badge size */
  --size-container-sm: calc(var(--base-size) * 80);  /* 320px - min body width */
  --size-container-md: calc(var(--base-size) * 225); /* 900px - medium container */
  --size-container-lg: calc(var(--base-size) * 300); /* 1200px - home max-width */
  --size-container-xl: calc(var(--base-size) * 320); /* 1280px - root max-width */

  /* Logo/decorative sizes */
  --size-logo: calc(var(--base-size) * 24); /* 96px / 6em */
}

/* Color Palette */
:root {
  /* Core palette - only these raw colors */
  --white: #fff;
  --black: #000;
  --white-300: rgba(255, 255, 255, 0.2);
  --white-500: rgba(255, 255, 255, 0.5);
  /* Grays as black with alpha (equivalent appearance over white) */
  --gray-100: rgba(0, 0, 0, 0.04);  /* #f5f5f5 */
  --gray-200: rgba(0, 0, 0, 0.12);  /* #e0e0e0 */
  --gray-300: rgba(0, 0, 0, 0.2);   /* #ccc */
  --gray-400: rgba(0, 0, 0, 0.4);   /* #999 */
  --gray-500: rgba(0, 0, 0, 0.6);   /* #666 */
  --gray-600: rgba(0, 0, 0, 0.8);   /* #333 */
  --blue: #007bff;
  --blue-dark: #0056b3;
  --green: #28a745;
  --green-light: #d4edda;
  --red: #dc3545;
  --paper: #f0dac5;

  /* Semantic colors - reference core palette */
  --color-text: var(--gray-600);
  --color-text-muted: var(--gray-500);
  --color-text-disabled: var(--gray-300);
  --color-modal-bg: var(--paper);
  --color-bg: var(--white-300);
  --color-bg-light: var(--white-300);
  --color-bg-light-hover: var(--white-500);
  --color-bg-subtle: var(--gray-100);
  --color-border: var(--gray-300);
  --color-primary: var(--blue);
  --color-primary-hover: var(--blue-dark);
  --color-on-primary: var(--white);
  --color-on-alt-bg: var(--color-text);
  --color-success: var(--green);
  --color-success-bg: var(--green-light);
  --color-danger: var(--red);
  --color-filled: var(--black);
  --color-empty: var(--gray-100);

  /* Shadows */
  --shadow-sm: 0 var(--space-1) var(--space-1) rgba(0, 0, 0, 0.1);
  --shadow-md: 0 var(--space-1) var(--space-2) rgba(0, 0, 0, 0.15);
  --shadow-inset: inset 0 var(--space-1) var(--space-1) rgba(0, 0, 0, 0.1);

  /* Overlay */
  --color-overlay: rgba(0, 0, 0, 0.5);

  /* Button colors (washi tape style) */
  --color-btn-default: rgba(255, 255, 255, 0.7);
  --color-btn-primary: rgba(130, 200, 255, 0.9);
  --color-btn-secondary: rgba(220, 200, 160, 0.9);
  --color-btn-danger: rgba(255, 130, 150, 0.9);
  --color-btn-danger-text: #8b0000;

  /* Page background image (themes may set to none) */
  --bg-image: url('/background.svg');
}

/* Dark theme */
html[data-theme="dark"] {
  color-scheme: dark;
  --white: #fff;
  --black: #000;
  --white-300: rgba(255, 255, 255, 0.15);
  --white-500: rgba(255, 255, 255, 0.4);
  --gray-100: rgba(255, 255, 255, 0.06);
  --gray-200: rgba(255, 255, 255, 0.12);
  --gray-300: rgba(255, 255, 255, 0.2);
  --gray-400: rgba(255, 255, 255, 0.4);
  --gray-500: rgba(255, 255, 255, 0.6);
  --gray-600: rgba(255, 255, 255, 0.9);
  --blue: #5ba3e8;
  --blue-dark: #7eb8f0;
  --green: #4ade80;
  --green-light: rgba(74, 222, 128, 0.2);
  --red: #f87171;
  --paper: #2d2a3e;

  --color-text: var(--gray-600);
  --color-text-muted: var(--gray-500);
  --color-text-disabled: var(--gray-400);
  --color-modal-bg: #1e1d2a;
  --color-bg: var(--white-300);
  --color-bg-light: var(--white-300);
  --color-bg-light-hover: var(--white-500);
  --color-bg-subtle: var(--gray-100);
  --color-border: var(--gray-300);
  --color-primary: var(--blue);
  --color-primary-hover: var(--blue-dark);
  --color-on-primary: var(--white);
  --color-on-alt-bg: var(--white);
  --color-success: var(--green);
  --color-success-bg: var(--green-light);
  --color-danger: var(--red);
  --color-filled: var(--white);
  --color-empty: var(--gray-100);

  --shadow-sm: 0 var(--space-1) var(--space-1) rgba(0, 0, 0, 0.3);
  --shadow-md: 0 var(--space-1) var(--space-2) rgba(0, 0, 0, 0.4);
  --shadow-inset: inset 0 var(--space-1) var(--space-1) rgba(0, 0, 0, 0.2);
  --color-overlay: rgba(0, 0, 0, 0.7);

  --color-btn-default: rgba(255, 255, 255, 0.15);
  --color-btn-primary: rgba(91, 163, 232, 0.5);
  --color-btn-secondary: rgba(180, 160, 120, 0.4);
  --color-btn-danger: rgba(248, 113, 113, 0.5);
  --color-btn-danger-text: #fca5a5;

  --bg-image: none;
}

/* High-contrast dark (white on black) – black and white only */
html[data-theme="high-contrast-dark"] {
  color-scheme: dark;
  --white: #fff;
  --black: #000;
  --white-300: #000;
  --white-500: #000;
  --gray-100: #000;
  --gray-200: #000;
  --gray-300: #fff;
  --gray-400: #fff;
  --gray-500: #fff;
  --gray-600: #fff;
  --blue: #fff;
  --blue-dark: #fff;
  --green: #fff;
  --green-light: #000;
  --red: #fff;
  --paper: #000;

  --color-text: #fff;
  --color-text-muted: #fff;
  --color-text-disabled: #fff;
  --color-modal-bg: #000;
  --color-bg: #000;
  --color-bg-light: #000;
  --color-bg-light-hover: #000;
  --color-bg-subtle: #000;
  --color-border: #fff;
  --color-primary: #fff;
  --color-primary-hover: #fff;
  --color-on-primary: #000;
  --color-on-alt-bg: #000;
  --color-success: #fff;
  --color-success-bg: #000;
  --color-danger: #fff;
  --color-filled: #fff;
  --color-empty: #000;

  --shadow-sm: none;
  --shadow-md: none;
  --shadow-inset: none;
  --color-overlay: #000;

  --color-btn-default: #000;
  --color-btn-primary: #fff;
  --color-btn-secondary: #000;
  --color-btn-danger: #fff;
  --color-btn-danger-text: #000;
  --btn-border-width: 1px;
  --btn-border-color: #fff;

  --bg-image: none;
}

/* High-contrast light (black on white) – black and white only */
html[data-theme="high-contrast-light"] {
  --white: #fff;
  --black: #000;
  --white-300: #fff;
  --white-500: #fff;
  --gray-100: #fff;
  --gray-200: #fff;
  --gray-300: #000;
  --gray-400: #000;
  --gray-500: #000;
  --gray-600: #000;
  --blue: #000;
  --blue-dark: #000;
  --green: #000;
  --green-light: #fff;
  --red: #000;
  --paper: #fff;

  --color-text: #000;
  --color-text-muted: #000;
  --color-text-disabled: #000;
  --color-modal-bg: #fff;
  --color-bg: #fff;
  --color-bg-light: #fff;
  --color-bg-light-hover: #fff;
  --color-bg-subtle: #fff;
  --color-border: #000;
  --color-primary: #000;
  --color-primary-hover: #000;
  --color-on-primary: #fff;
  --color-on-alt-bg: #fff;
  --color-success: #000;
  --color-success-bg: #fff;
  --color-danger: #000;
  --color-filled: #000;
  --color-empty: #fff;

  --shadow-sm: none;
  --shadow-md: none;
  --shadow-inset: none;
  --color-overlay: #000;

  --color-btn-default: #fff;
  --color-btn-primary: #000;
  --color-btn-secondary: #fff;
  --color-btn-danger: #000;
  --color-btn-danger-text: #fff;
  --btn-border-width: 1px;
  --btn-border-color: #000;

  --bg-image: none;
}
